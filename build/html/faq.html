

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FAQ &mdash; EMSX API Programmers Guide 0.0.5 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="EMSX API Programmers Guide 0.0.5 documentation" href="index.html"/>
        <link rel="prev" title="EMSX Subscription (COM)" href="excel/emsxSubscriptionCom.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> EMSX API Programmers Guide
          

          
          </a>

          
            
            
              <div class="version">
                0.0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="server/index.html">Server Side EMSX API</a></li>
<li class="toctree-l1"><a class="reference internal" href="programmable/index.html">Programmable EMSX API</a></li>
<li class="toctree-l1"><a class="reference internal" href="excel/index.html">Excel COM</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-faq">General FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#excel-add-in-faq">Excel Add-In FAQ</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">EMSX API Programmers Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>FAQ</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/faq.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h1>
<div class="section" id="general-faq">
<h2>General FAQ<a class="headerlink" href="#general-faq" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Why can I not subscribe using ticker and fields like other APIs?</strong></li>
</ul>
<p>The EMSX service only allows users to subscribe to their own Orders and Routes (placements). Most applications will use only two subscriptions, one for Orders and one for Routes (placements). A list of EMSX fields is required when creating the subscriptions.</p>
<ul class="simple">
<li><strong>Why can’t I see my orders and or routes in EMSX?</strong></li>
</ul>
<p>The most common cause is that the user is connected to the BETA machines on the API side, whilst using the PROD machine on the terminal. Switching one of these will normally resolve the problem.</p>
<ul class="simple">
<li><strong>How do I connect to the BETA machine of the terminal?</strong></li>
</ul>
<p>Use the function DGRT Y087&lt;GO&gt; on the terminal, followed by EMSX&lt;GO&gt;. This will connect that terminal window to the EMSX BETA machine. Please note that this only applies to that particular terminal window only. To return to PROD system on the terminal, type DGRT OFF&lt;GO&gt;</p>
<ul class="simple">
<li><strong>How do I connect to PROD or BETA in the API?</strong></li>
</ul>
<p>Two separate services are provided. These are <code class="docutils literal"><span class="pre">//blp/emapisvc</span></code> (PROD) and <code class="docutils literal"><span class="pre">//blp/emapisvc_beta</span></code> (TEST)</p>
<ul class="simple">
<li><strong>How do I match my requests to responses?</strong></li>
</ul>
<p>This is done in the same was as for other Bloomberg API services, with the use of CorrelationID.</p>
<ul class="simple">
<li><strong>What broker or simulator do I use?</strong></li>
</ul>
<p>When first enabled for BETA access, client will generally be enabled for BMTB or other internal Bloomberg simulator codes. A new development broker has recently been added called the API. To be enabled for other brokers in the LIVE environment, clients should contact the EMSX Help Desk.</p>
<ul class="simple">
<li><strong>How do I test my application with these simulators?</strong></li>
</ul>
<p>Test brokers (BB, BMTB, EFIX and API) are automated systems that respond a request in a predetermined way, based on the specified security in the request. Each test broker has a set of documented behaviors that clients can take advantage of to create test cases. These documents are currently provided on request.</p>
<ul class="simple">
<li><strong>Why am I not seeing events that affect my Routes?</strong></li>
</ul>
<p>This is normally caused by only having a subscription for Orders. A separate subscription is needed for route messages when using our programmable interface.</p>
<ul class="simple">
<li><strong>Why am I still seeing orders that I deleted or have completed?</strong></li>
</ul>
<p>Orders that were manually deleted, or completed in a previous session, will continue to transmit on the order. Check the EMSX_STATUS of the returned message to confirm if this is a live order. These orders will cease to report between 24 and 48 hours after they are deleted depending on the nature of the order.</p>
<ul class="simple">
<li><strong>Why is the value of a field returned as blank / zero?</strong></li>
</ul>
<p>This normally means that the user has not subscribed to that field in the original subscription. This can also mean that the user did not subscribe to the filed in the first place or is requesting for a static field.</p>
<ul class="simple">
<li><strong>Why is a field not being returned?</strong></li>
</ul>
<p>Some fields are specific to either Orders or Routes. You cannot subscribe to an Order field in the Route subscription and vice versa.</p>
<p>The type of message will also dictate which fields will be returned. For <code class="docutils literal"><span class="pre">NEW_ORDER_ROUTE</span></code> and <code class="docutils literal"><span class="pre">INIT_PAINT</span></code> messages, all fields will be returned. However, for <code class="docutils literal"><span class="pre">UPD_ORDER_ROUTE</span></code>, the user will only receive a small number of static fields along with all those fields deemed to be ‘dynamic’, meaning they can change during the lifetime of the order or route.</p>
<p>This is one of the reasons as why the user is encouraged to maintain their own image of and order or route within their application.</p>
<ul class="simple">
<li><strong>How do I receive Fill messages?</strong></li>
</ul>
<p>Currently, Fill level messaging is not supported. A fill event will generate a <code class="docutils literal"><span class="pre">UPD_ORDER_ROUTE</span></code> message, with the applicable changes to the order and route data and these are not guaranteed update for the fills. The only way to track individual fills is to use the <code class="docutils literal"><span class="pre">//blp/emsx.history</span></code> service using request/response service calls.</p>
<ul class="simple">
<li><strong>How do I route a complete basket?</strong></li>
</ul>
<p>The term basket here is defined as a way to send the entire group of order into a single basket to a broker destination or to a broker algorithm, which supports basket. The term basket here is not intended for those who want to tie a particular group of orders into a trading strategy.</p>
<p>Currently routing a basket is a two-step process in EMSX API. First, the user will need to use <code class="docutils literal"><span class="pre">CreateOrder</span></code> request to create the order and include the <code class="docutils literal"><span class="pre">EMSX_BASKET_NAME</span></code> in the field. To route the order, the user can use either <code class="docutils literal"><span class="pre">GroupRouteEx</span></code> or <code class="docutils literal"><span class="pre">GroupRouteWithStrat</span></code> and include the <code class="docutils literal"><span class="pre">EMSX_SEQUENCE</span></code> number inside the array.</p>
<p>If the user misses an <code class="docutils literal"><span class="pre">EMSX_SEQUENCE</span></code> number inside the specified basket, the particular missing order will not be sent as part of the basket.</p>
<ul class="simple">
<li><strong>How long do DAY orders and complete orders stay on the blotter and in the API?</strong> (Status = 8)</li>
</ul>
<p>In the old logic, the DAY orders stayed 4 hours after the exchange closed. The new logic is to extend this to 8 hours after the exchange closed. Expired orders are deleted after 2 days. For expired orders, when user gets INIT_PAINT, the will get updates for those expired orders with status=8.</p>
<p>For partially filled orders delete will modify amount down to the filled amount and that order will not disappear and will be treated as a filled order. The Excel Add-In currently removes anything in the blotter with Status=8.</p>
<ul class="simple">
<li><strong>Why do I get “Internal error. Please contact customer support”?</strong></li>
</ul>
<p>Unfortunately, this is a generic error message, which can be caused by a number of reasons. However, the most common is that the user has failed to provide a mandatory field with a request.</p>
<ul class="simple">
<li><strong>Why do I get “Customer ABCDE is not validated for ETORSA”?</strong></li>
</ul>
<p>Client must sign a Bloomberg Electronic Trading &amp; Order Routing Service Agreement before they can be enabled for EMSX API access.</p>
<ul class="simple">
<li><strong>Why do I get “User ABCDE is not permitted for the API”?</strong></li>
</ul>
<p>EMSX Help Desk must enable users for EMSX API access via EMSS.</p>
<ul class="simple">
<li><strong>Why do I get “User NOT Enabled to route to this broker by EOR (ENAB).”?</strong></li>
</ul>
<p>Users must be enabled for specific brokers. This is done by EMSX Help Desk support for internal simulator codes and by the broker for their own production codes.</p>
<ul class="simple">
<li><strong>I am enabled but I get a red bar on the bottom when I click on the EMSX button.</strong></li>
</ul>
<p>This is usually due to the following issues.</p>
<blockquote>
<div><ul class="simple">
<li>BBCOMM failed to establish a session. For this please see the next section on restarting BBCOMM</li>
<li>The ETORSA/FIET paperwork is not in file. Every EMSX API user’s firm will need to sign ETORSA and or FIET before using the EMSX API. Please click Help Help in EMSX&lt;GO&gt; and have the Trade Desk personnel check for this legal check.</li>
<li>The desktop prevents any third party WPF components from running.  This is usually tied into the PC’s image. This will usually cause an exception in the System.Windows.Media.Composition library. This will usually require reinstall of .NET 3.5 SP1, hardware display drivers, and DirectX libraries.</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first"><strong>How do I restart bbcomm?</strong></p>
<blockquote>
<div><ul class="simple">
<li>Close all instances of Excel, Word and PowerPoint.</li>
<li>Open task manager and kill bxlaui.exe and bxlartd.exe.</li>
<li>Open a command prompt and type bbstop</li>
<li>In the same command prompt, type the command bbcomm. BBCOMM should report that it is running successfully and should not return.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>How do I regenerate apiregistry.ini file?</strong></p>
<blockquote>
<div><p>Open regedit from RUN window and Clear the &#8220;APIRegistryCRC32&#8221; registry value located at
&#8220;HKEY_LOCAL_MACHINESOFTWAREBloomberg L.P.Office ToolsSettings&#8221; or &#8220;HKEY_LOCAL_MACHINESOFTWAREWow6432NodeBloomberg L.P.Office ToolsSettings&#8221; on Windows 7.</p>
</div></blockquote>
</li>
<li><p class="first"><strong>How do I modify GTD to day order?</strong></p>
</li>
</ul>
<p>Set EMSX_GTD_DATE to &#8220;-1&#8221; or -1 or any negative GTD date will reset the order to day order.</p>
<ul class="simple">
<li><strong>How do I modify or reset the stop price of an order?</strong></li>
</ul>
<p>Set EMSX_STOP_PRICE to &#8220;-1&#8221; or -1</p>
<ul class="simple">
<li><strong>How do I reset my order from Limit to Market?</strong></li>
</ul>
<p>EMSX_LIMIT_PRICE=-99999 is only required when modifying <em>from</em> LMT to something else</p>
<ul class="simple">
<li><strong>How is EMSX_RELEASE_TIME used?</strong></li>
</ul>
<p>EMSX_RELEASE_TIME is in HH:MM format. For the API it is defaulted to the exchange time. This only works on requests that are routable from EMSX API. Thus, it will not work on CreateOrder request. Since the field is an integer, it should be forammted as 1101 for 11:01,</p>
<ul class="simple">
<li><strong>Are EMSX_TICKER and EMSX_SIDE elements always available on the subscription service?</strong></li>
</ul>
<p>No, any fields that are static are not always returned.</p>
<ul class="simple">
<li><strong>Can update events come before the initial_paint or new event?</strong></li>
</ul>
<p>Yes, this wasn’t the original intention, however, due to current EMSX back-end, the update (Event Status = 7) messages can come before initial_paint (Event Status=4) or New (Event Status = 6)</p>
<ul class="simple">
<li><strong>Are INITIAL_PAINT messages always first?</strong></li>
</ul>
<p>No, you can receive any route messages before the order message with INITIAL_PAINT.</p>
</div>
<div class="section" id="excel-add-in-faq">
<h2>Excel Add-In FAQ<a class="headerlink" href="#excel-add-in-faq" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>I don&#8217;t see the EMSX button on my Excel Add-In</strong></li>
</ul>
<p>This is mostly due to the user not being enabled for EMSX API. Click Help Help on EMSX&lt;GO&gt; and ask the EMSX Help Desk personnel to see if your UUID is enabled for EMSX API Excel Add-In. If the user has multiple Excel Add-Ins, the EMSX button will be under the Trading Icon.</p>
<img alt="_images/excelAddIn.png" src="_images/excelAddIn.png" />
<img alt="_images/trading.png" src="_images/trading.png" />
<ul class="simple">
<li><strong>I am a Bloomberg AIM user and I am not able to connect from the Excel Add-In.</strong></li>
</ul>
<p>This is mostly often due to the AIM user not being able to connect to the beta environment (Y087).  For AIM, users they will need to test in production since there are no AIM instance in the beta environment (Y087).</p>
<img alt="_images/registry.png" src="_images/registry.png" />
<p>One of the ways to solve this is by going into the registry edit by clicking Start and type “regedit”.</p>
<img alt="_images/regedit.png" src="_images/regedit.png" />
<p>Once in the regedit.exe, click Alt-F and type “EmsxSystem”.</p>
<img alt="_images/emsxSystem.png" src="_images/emsxSystem.png" />
<p>Double Click EmsxSystem</p>
<img alt="_images/editString.png" src="_images/editString.png" />
<p>Type the word Production in the Value Data column and Click OK.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="excel/emsxSubscriptionCom.html" class="btn btn-neutral" title="EMSX Subscription (COM)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Terrence C. Kim.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>